{"ast":null,"code":"import fetch from \"isomorphic-fetch\";\nimport { API } from \"../config\";\nimport { handleResponse } from \"./auth.action\";\nimport queryString from \"query-string\";\n/**\r\n *\r\n */\n\nexport const createNews = (news, token) => {\n  return fetch(`${API}/news`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      Authorization: `Bearer ${token}`\n    },\n    body: news\n  }).then(response => {\n    handleResponse(response);\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const newsListPrivate = () => {\n  return fetch(`${API}/news-private-root`, {\n    method: \"GET\"\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const newsListPublic = () => {\n  return fetch(`${API}/news-public-root`, {\n    method: \"GET\"\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const newsListPublicLimitFirstSection = () => {\n  return fetch(`${API}/news-public-limit-first-section`, {\n    method: \"GET\"\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const newsListPublicLimitSecondSection = () => {\n  return fetch(`${API}/news-public-limit-second-section`, {\n    method: \"GET\"\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const newsListPublicLimitFinalSection = (skip, limit) => {\n  const data = {\n    skip,\n    limit\n  };\n  return fetch(`${API}/news-public-limit-final-section`, {\n    method: \"POST\",\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const newsPublicLatest = () => {\n  return fetch(`${API}/news-public-latest`, {\n    method: \"GET\"\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const newsPublicSecondLatest = () => {\n  return fetch(`${API}/news-public-second-latest`, {\n    method: \"GET\"\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const newsListPublicTopStories = blog => {\n  return fetch(`${API}/newsTopStories`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(blog)\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const newsListPublicMobileReviews = () => {\n  return fetch(`${API}/news-mobile-reviews`, {\n    method: \"GET\"\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const newsListModeratorPrivate = id => {\n  //console.log('from action ', id);\n  return fetch(`${API}/news/moderator-private/${id}`, {\n    method: \"GET\"\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const newsListModeratorPublic = id => {\n  //console.log('from action ', id);\n  return fetch(`${API}/news/moderator-public/${id}`, {\n    method: \"GET\"\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const singleNews = slug => {\n  return fetch(`${API}/news/${slug}`, {\n    method: \"GET\"\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const listRelated = blog => {\n  return fetch(`${API}/news/related`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(blog)\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const listRelatedReviews = blog => {\n  return fetch(`${API}/news/reviews-related`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(blog)\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const listRelatedMobiles = blog => {\n  return fetch(`${API}/news/mobiles-related`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(blog)\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const removeNews = (slug, token) => {\n  return fetch(`${API}/news/${slug}`, {\n    method: \"DELETE\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    }\n  }).then(response => {\n    handleResponse(response);\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const updateNews = (news, token, slug) => {\n  return fetch(`${API}/news/${slug}`, {\n    method: \"PUT\",\n    headers: {\n      Accept: \"application/json\",\n      Authorization: `Bearer ${token}`\n    },\n    body: news\n  }).then(response => {\n    handleResponse(response);\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const approveNews = (slug, token) => {\n  //console.log('from actions  : ', slug, token);\n  return fetch(`${API}/news/approve/${slug}`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      Authorization: `Bearer ${token}`\n    }\n  }).then(response => {\n    handleResponse(response);\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const unPublishNews = (slug, token) => {\n  //console.log('from actions  : ', slug, token);\n  return fetch(`${API}/news/un-publish/${slug}`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      Authorization: `Bearer ${token}`\n    }\n  }).then(response => {\n    handleResponse(response);\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const listSearchAdmin = params => {\n  console.log(\"search params : \", params);\n  let query = queryString.stringify(params);\n  console.log(\"query params : \", params);\n  return fetch(`${API}/news-search/search?${query}`, {\n    method: \"GET\"\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\n/**completed */\n\nexport const listSearchUser = params => {\n  let query = queryString.stringify(params);\n  return fetch(`${API}/news-search-user/search?${query}`, {\n    method: \"GET\"\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const listSearchModerator = params => {\n  console.log(\"search params : \", params);\n  let query = queryString.stringify(params);\n  console.log(\"query params : \", params);\n  return fetch(`${API}/news-search-moderator/search?${query}`, {\n    method: \"GET\"\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};","map":{"version":3,"sources":["C:/react projects/next 1.0.1/frontend/actions/news.action.js"],"names":["fetch","API","handleResponse","queryString","createNews","news","token","method","headers","Accept","Authorization","body","then","response","json","catch","err","console","log","newsListPrivate","newsListPublic","newsListPublicLimitFirstSection","newsListPublicLimitSecondSection","newsListPublicLimitFinalSection","skip","limit","data","JSON","stringify","newsPublicLatest","newsPublicSecondLatest","newsListPublicTopStories","blog","newsListPublicMobileReviews","newsListModeratorPrivate","id","newsListModeratorPublic","singleNews","slug","listRelated","listRelatedReviews","listRelatedMobiles","removeNews","updateNews","approveNews","unPublishNews","listSearchAdmin","params","query","listSearchUser","listSearchModerator"],"mappings":"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","sourcesContent":["import fetch from \"isomorphic-fetch\";\r\nimport { API } from \"../config\";\r\nimport { handleResponse } from \"./auth.action\";\r\nimport queryString from \"query-string\";\r\n\r\n/**\r\n *\r\n */\r\nexport const createNews = (news, token) => {\r\n  return fetch(`${API}/news`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: news,\r\n  })\r\n    .then((response) => {\r\n      handleResponse(response);\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const newsListPrivate = () => {\r\n  return fetch(`${API}/news-private-root`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const newsListPublic = () => {\r\n  return fetch(`${API}/news-public-root`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const newsListPublicLimitFirstSection = () => {\r\n  return fetch(`${API}/news-public-limit-first-section`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const newsListPublicLimitSecondSection = () => {\r\n  return fetch(`${API}/news-public-limit-second-section`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const newsListPublicLimitFinalSection = (skip,limit) => {\r\n  const data = {skip,limit}\r\n  return fetch(`${API}/news-public-limit-final-section`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body:JSON.stringify(data)\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\nexport const newsPublicLatest = () => {\r\n  return fetch(`${API}/news-public-latest`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const newsPublicSecondLatest = () => {\r\n  return fetch(`${API}/news-public-second-latest`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\nexport const newsListPublicTopStories = (blog) => {\r\n  return fetch(`${API}/newsTopStories`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(blog),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const newsListPublicMobileReviews = () => {\r\n  return fetch(`${API}/news-mobile-reviews`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const newsListModeratorPrivate = (id) => {\r\n  //console.log('from action ', id);\r\n\r\n  return fetch(`${API}/news/moderator-private/${id}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const newsListModeratorPublic = (id) => {\r\n  //console.log('from action ', id);\r\n\r\n  return fetch(`${API}/news/moderator-public/${id}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const singleNews = (slug) => {\r\n  return fetch(`${API}/news/${slug}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const listRelated = (blog) => {\r\n  return fetch(`${API}/news/related`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(blog),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const listRelatedReviews = (blog) => {\r\n  return fetch(`${API}/news/reviews-related`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(blog),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const listRelatedMobiles = (blog) => {\r\n  return fetch(`${API}/news/mobiles-related`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(blog),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const removeNews = (slug, token) => {\r\n  return fetch(`${API}/news/${slug}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      handleResponse(response);\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const updateNews = (news, token, slug) => {\r\n  return fetch(`${API}/news/${slug}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: news,\r\n  })\r\n    .then((response) => {\r\n      handleResponse(response);\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const approveNews = (slug, token) => {\r\n  //console.log('from actions  : ', slug, token);\r\n\r\n  return fetch(`${API}/news/approve/${slug}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      handleResponse(response);\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const unPublishNews = (slug, token) => {\r\n  //console.log('from actions  : ', slug, token);\r\n\r\n  return fetch(`${API}/news/un-publish/${slug}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      handleResponse(response);\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const listSearchAdmin = (params) => {\r\n  console.log(\"search params : \", params);\r\n\r\n  let query = queryString.stringify(params);\r\n\r\n  console.log(\"query params : \", params);\r\n\r\n  return fetch(`${API}/news-search/search?${query}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n/**completed */\r\nexport const listSearchUser = (params) => {\r\n  let query = queryString.stringify(params);\r\n\r\n  return fetch(`${API}/news-search-user/search?${query}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const listSearchModerator = (params) => {\r\n  console.log(\"search params : \", params);\r\n\r\n  let query = queryString.stringify(params);\r\n\r\n  console.log(\"query params : \", params);\r\n\r\n  return fetch(`${API}/news-search-moderator/search?${query}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n"]},"metadata":{},"sourceType":"module"}